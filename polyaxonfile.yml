---
version: 1

kind: experiment

build:
  dockerfile: Dockerfile

run:
  cmd: python train_lulc.py \
   --log_dir=./log/ \
   --data_dir=./onera/ \
   --weight_dir=/outputs/ \
   --batch_size=128 \
   --epochs=20 \
   --patch_size=90 \
   --stride=10 \
   --lr=0.1

framework: pytorch
environment:
  resources:
    gpu:
      requests: 4
      limits: 4
  node_selector:
    polyaxon: p4-medium

  persistence:
    data: ['data']
    outputs: 'outputs'

logging:
  level: INFO
