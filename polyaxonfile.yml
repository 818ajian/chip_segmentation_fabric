---
version: 1

kind: experiment

build:
  dockerfile: Dockerfile

run:
  cmd: python train.py \
   --dataset=onera_w_mask.tar.gz
   --log_dir=./log/ \
   --data_dir=./onera/ \
   --weight_dir=/outputs/ \
   --batch_size=128 \
   --epochs=10 \
   --patch_size=90 \
   --stride=50 \
   --loss=tversky \
   --alpha=0.1 \
   --beta=0.9 \
   --lr=0.1

framework: pytorch
environment:
  resources:
    gpu:
      requests: 4
      limits: 4
  node_selector:
    polyaxon: p4-medium

  persistence:
    data: ['data']
    outputs: 'outputs'

logging:
  level: INFO
